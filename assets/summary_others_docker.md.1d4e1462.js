import{o as l,c as e,d as n,e as u}from"./app.6e0e14f6.js";const d='{"title":"基本概念","description":"","frontmatter":{},"headers":[{"level":2,"title":"基本概念","slug":"基本概念"},{"level":3,"title":"三要素","slug":"三要素"},{"level":3,"title":"数据卷(volume)","slug":"数据卷-volume"},{"level":2,"title":"常用命令","slug":"常用命令"},{"level":3,"title":"帮助命令","slug":"帮助命令"},{"level":3,"title":"镜像命令","slug":"镜像命令"},{"level":3,"title":"容器命令","slug":"容器命令"},{"level":2,"title":"Dockerfile","slug":"dockerfile"},{"level":2,"title":"例子","slug":"例子"}],"relativePath":"summary/others/docker.md","lastUpdated":1633619688333}',r={},c=n("p",null,[n("img",{src:"/img/docker_cli.jpg",alt:""})],-1),o=n("h2",{id:"基本概念"},[n("a",{class:"header-anchor",href:"#基本概念","aria-hidden":"true"},"#"),u(" 基本概念")],-1),a=n("h3",{id:"三要素"},[n("a",{class:"header-anchor",href:"#三要素","aria-hidden":"true"},"#"),u(" 三要素")],-1),i=n("ul",null,[n("li",null,"镜像(Image)"),n("li",null,"容器(container)"),n("li",null,"仓库(repository)")],-1),t=n("p",null,[u("镜像是一个打包模版，可以创建多个容器，每个容器都是相互隔离的微版"),n("code",null,"linux"),u("环境")],-1),p=n("p",null,"镜像可以是看做一个千层卷的文件系统，可以在构建的容器中利用commit来构建新的images",-1),s=n("h3",{id:"数据卷-volume"},[n("a",{class:"header-anchor",href:"#数据卷-volume","aria-hidden":"true"},"#"),u(" 数据卷(volume)")],-1),h=n("p",null,"用于容器的数据持久化和数据共享",-1),k=n("ul",null,[n("li",null,[u("命令："),n("code",null,"docker run -it /data:/containerData centos")]),n("li",null,[u("Dockerfile中"),n("code",null,"VOLUME"),u("指令， 主机的目录为默认，通过docker inspect查询")])],-1),m=n("h2",{id:"常用命令"},[n("a",{class:"header-anchor",href:"#常用命令","aria-hidden":"true"},"#"),u(" 常用命令")],-1),f=n("h3",{id:"帮助命令"},[n("a",{class:"header-anchor",href:"#帮助命令","aria-hidden":"true"},"#"),u(" 帮助命令")],-1),v=n("p",null,[n("code",null,"docker info"),u(" ：本机docker的运行实例等信息")],-1),g=n("p",null,[n("code",null,"docker --help"),u(": 命令列表")],-1),D=n("h3",{id:"镜像命令"},[n("a",{class:"header-anchor",href:"#镜像命令","aria-hidden":"true"},"#"),u(" 镜像命令")],-1),O=n("p",null,[n("code",null,"docker images"),u(": 本机存在的镜像 ​ -a: 列出包含中间镜像层的所有images ​ -q: 只显示镜像id")],-1),E=n("p",null,[n("code",null,"docker search"),u("：在远程仓库查询镜像资源 ​ -s: 指定超过一定星的镜像")],-1),N=n("p",null,[n("code",null,"docker pull"),u(": 拉取镜像")],-1),I=n("p",null,[n("code",null,"docker rmi"),u(": 删除镜像 ​ -f: 强制删除")],-1),M=n("h3",{id:"容器命令"},[n("a",{class:"header-anchor",href:"#容器命令","aria-hidden":"true"},"#"),u(" 容器命令")],-1),R=n("p",null,[n("code",null,"docker run"),u(": 用一个镜像新建并运行容器")],-1),x=n("p",null,"-i：已交互方式运行",-1),U=n("p",null,"​ -t: 新开一个终端运行",-1),b=n("p",null,"-d: 后台运行容器",-1),P=n("p",null,"​ --name：容器名字",-1),j=n("p",null,"-v : 配置容器数据卷 -v 主机目录路径:容器目录路径",-1),q=n("p",null,[n("code",null,"docker ps"),u(": 列出正在运行的容器 -a 列出所有容器")],-1),A=n("p",null,[n("code",null,"exit"),u(": 推出+停止容器 ctrl+q+p 推出容器")],-1),C=n("p",null,[n("code",null,"docker start"),u(": 启动容器")],-1),L=n("p",null,[n("code",null,"docker restart"),u(": 重启容器")],-1),T=n("p",null,[n("code",null,"docker stop"),u(": 停止容器")],-1),V=n("p",null,[n("code",null,"docker rm"),u(": 删除容器 docker rm -f $(docker ps -a -q) 删除所有容器")],-1),y=n("p",null,[n("code",null,"docker logs"),u(": 容器日志")],-1),Y=n("p",null,"​ -t: 显示时间戳",-1),B=n("p",null,"-f：可以追加显示",-1),F=n("p",null,"--tail: 显示后面倒数几条",-1),K=n("p",null,[n("code",null,"docker top"),u(": 查看容器里跑的进程")],-1),S=n("p",null,[n("code",null,"docker inspect"),u(": 以json格式显示容器的信息")],-1),W=n("p",null,[n("code",null,"docker attach"),u(": 进入容器")],-1),X=n("p",null,[n("code",null,"docker exec"),u("-it 容器id /bin/bash: 进入到容器的终端")],-1),$=n("p",null,[n("code",null,"docker commit"),u(": 把某个容器提交为新镜像")],-1),_=n("p",null,[u("​-a： 作者信息"),n("br"),u(" -m : 提交信息")],-1),w=n("p",null,[n("code",null,"docker cp"),u(": 拷贝容器文件到主机")],-1),z=n("h2",{id:"dockerfile"},[n("a",{class:"header-anchor",href:"#dockerfile","aria-hidden":"true"},"#"),u(" Dockerfile")],-1),G=n("p",null,[u("镜像构建的描述性编程文件， 利用 "),n("code",null,"docker build"),u(" 生成新镜像")],-1),H=n("p",null,[n("code",null,"FROM"),u(": 从哪个基础镜像开始构建")],-1),J=n("p",null,[n("code",null,"MAINTAINER"),u(": 镜像维护者的名字和邮箱")],-1),Q=n("p",null,[n("code",null,"RUN"),u(": 容器构建时需要运行的命令")],-1),Z=n("p",null,[n("code",null,"EXPOSE"),u(": 当前容器对外暴露的接口")],-1),ll=n("p",null,[n("code",null,"WORKDIR"),u("：指定创建容器后，终端默认的工作目录")],-1),el=n("p",null,[n("code",null,"ENV"),u(": 构建镜像过程中设置的环境变量")],-1),nl=n("p",null,[n("code",null,"ADD"),u(": 将主机文件复制到容器并解压缩")],-1),ul=n("p",null,[n("code",null,"COPY"),u(": 将主机文件复制到容器")],-1),dl=n("p",null,[n("code",null,"VOLUME"),u(": 指定容器数据卷")],-1),rl=n("p",null,[n("code",null,"CMD"),u(": 指定容器启动后要运行的命令，最后一个有效")],-1),cl=n("p",null,[n("code",null,"ENTRYPOINT"),u(": 和CMD类似，但是可以追加命令参数")],-1),ol=n("p",null,[n("code",null,"ONBUILD"),u(": 在子镜像构建时触发的钩子")],-1),al=n("h2",{id:"例子"},[n("a",{class:"header-anchor",href:"#例子","aria-hidden":"true"},"#"),u(" 例子")],-1);r.render=function(n,u,d,r,il,tl){return l(),e("div",null,[c,o,a,i,t,p,s,h,k,m,f,v,g,D,O,E,N,I,M,R,x,U,b,P,j,q,A,C,L,T,V,y,Y,B,F,K,S,W,X,$,_,w,z,G,H,J,Q,Z,ll,el,nl,ul,dl,rl,cl,ol,al])};export default r;export{d as __pageData};
